{% extends "layout.html" %}
{% block map %}
<div class="col-md-9 column" id = "container" style="width:850px;height:880px">
		<script>
			var series = {{ series|safe }}
			var chart = {type: 'scatter',plotBackgroundImage:"{{mapid|safe}}",zoomType:'xy'}
			var title = {text: null}
			var xAxis = {
   	  			min: 0,
				     max: {{width|safe}},
   	  			type: 'category',
   	  			labels:{
   	  				enabled: false
   	  			},
   	  			gridLineWidth: 0,
      			title: {
      				enabled: false
      			},
      			startOnTick: true,
      			endOnTick: true,
      			showLastLabel: true
   			}
   			var yAxis = {
   	  			min: 0,
				     max: {{height|safe}},
   	  			type: 'category',
   	  			labels:{
   	  			enabled: false
   	  			},
   	  			gridLineWidth: 0,
      			title: {
        			enabled: false
        		}
      		}
      		var legend = {   
	      		layout: 'vertical',
	      		align: 'center',
	      		verticalAlign: 'top',
	      		x: 0,
	      		y: 0,
	      		floating: true,
	      		backgroundColor: (Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF',
	      		borderWidth: 1
   			}  
   			
		   
		</script>

		</div>
{% endblock %}
{% block content %}
<div class="col-md-12 column">
			<table id = 'example' class="table table-striped table-hover dt-responsive">
				<thead>
					<tr>
						<th>
							编号
						</th>
						<th> userid
						</th>
						<th>
							姓名
						</th>
						<th>
							位置
						</th>
						<th>
							状态
						</th>
						<th>
							删除
						</th>
					</tr>
				</thead>
				<tbody>

					{%for post in posts%}
					{% if post.status == 'Online'%}
					<tr class = "success">
						<td>
						{{post.id}}
						</td>
						<td>{{post.userid}}
						</td>
						<td>
							{{post.name}}
						</td>
						<td>
							{{post.position}}
						</td>
						<td>
							{{post.status}}
						</td>
						<td>
							<form  method="post">
								<button type = "submit" name = 'id' value = {{post.id}} class = "btn btn-primary">
										删除
								</button>
							</form>
						</td>
					</tr>
					{% else %}
					<tr class = "error">
						<td>
						{{post.id}}
						</td>
						<td>{{post.userid}}
						</td>
						<td>
							{{post.name}}
						</td>
						<td>
							{{post.position}}
						</td>
						<td>
							Offline
						</td>
						<td>
						<form  method="post">
								<button type = "submit" name ='id' value =  {{post.id}} class = "btn btn-primary">
										删除
								</button>
							</form>
						</td>
					</tr>
					{% endif %}
					{% endfor %}

				</tbody>
			</table>
		</div>
	</div>
{% endblock %}
